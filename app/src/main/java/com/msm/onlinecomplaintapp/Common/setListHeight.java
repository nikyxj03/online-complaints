package com.msm.onlinecomplaintapp.Common;

import android.view.View;
import android.view.ViewGroup;
import android.widget.ListAdapter;
import android.widget.ListView;

public class setListHeight {

  public static boolean setListViewHeightBasedOnItems(ListView listView)
  {
    ListAdapter listAdapter=listView.getAdapter();
    if(listAdapter!=null)
    {
      int numberOfItems =listAdapter.getCount();
      int th=0;
      for(int ip=0;ip<numberOfItems;ip++)
      {
        View item =listAdapter.getView(ip,null,listView);
        float px = 500*(listView.getResources().getDisplayMetrics().density);
        item.measure(View.MeasureSpec.makeMeasureSpec((int)px,View.MeasureSpec.AT_MOST),View.MeasureSpec.makeMeasureSpec(0,View.MeasureSpec.UNSPECIFIED));
        th=th+item.getMeasuredHeight();
      }
      int totalDividerHeight=listView.getDividerHeight()*(numberOfItems-1);
      int totalPadding=listView.getPaddingTop()+listView.getPaddingBottom();
      ViewGroup.LayoutParams params= listView.getLayoutParams();
      params.height=th+totalDividerHeight+totalPadding;
      listView.setLayoutParams(params);
      listView.requestLayout();
      return true;
    }
    else
      return false;
  }
}